import{Router as A}from"itty-router";class e extends Error{key;constructor(A){super(A),this.message=A}}class t extends e{constructor(A){super(A)}}class r extends e{constructor(A){super(A)}}function a(A){return`<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="utf-8"/>\n    <meta name="viewport" content="width=device-width, initial-scale=1"/>\n    <meta name="description" content="SwaggerIU"/>\n    <title>SwaggerUI</title>\n    <link rel="stylesheet" href="https://unpkg.com/swagger-ui-dist@4.5.0/swagger-ui.css"/>\n    <link rel="shortcut icon" href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAlMb//2ux//9or///ZKz//wlv5f8JcOf/CnXv/why7/8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB2vi/wZo3/9ytf//b7P//2uw//+BvP//DHbp/w568P8Md+//CnXv/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAApv4/8HbOH/lMf//3W3//9ytf//brL//w946v8SfvH/EHzw/w558P8AAAAAAAAAAAAAAAAAAAAAAAAAABF56f8Ndef/C3Dj/whs4f98u///eLn//3W3//+Evv//FoPx/xSA8f8SfvD/EHvw/wAAAAAAAAAAAAAAAA1EeF0WgOz/EXrp/w515v8LceT/lsn//3+9//97u///eLj//xaB7f8YhfL/FoLx/xSA8f8JP/deAAAAAAAAAAAgjfH/HIjw/xeB7P8Te+n/AAAAAAAAAACGwf//gr///369//+Iwf//HIny/xqH8v8YhfL/FYLx/wAAAAAnlfPlJJLy/yGO8v8cifD/GILt/wAAAAAAAAAAmMz//4nD//+Fwf//gb///xyJ8P8ejPP/HIny/xmH8v8XhPLnK5r0/yiW8/8lk/P/IpDy/wAAAAAAAAAAAAAAAAAAAACPx///jMX//4jD//+MxP//IpD0/yCO8/8di/P/G4ny/y6e9f8sm/T/KZj0/yaV8/8AAAAAAAAAAAAAAAAAAAAAlsz//5LJ//+Px///lMn//yaV9P8kkvT/IZD0/x+O8/8yo/blMKD1/y2d9f8qmfT/KJbz/wAAAAAAAAAAqdb//53Q//+Zzv//lsv//yiY8/8qmvX/KJf1/yWV9P8jkvTQAAAAADSl9v8xofX/Lp71/yyb9P8AAAAAAAAAAKfW//+k1P//oNL//6rW//8wofb/Lp72/yuc9f8pmfX/AAAAAAAAAAAcVHtcNab2/zKj9v8voPX/LZz0/7vh//+u2///qtj//6fW//8wofT/NKX3/zKj9/8voPb/F8/6XgAAAAAAAAAAAAAAADmr9/82qPf/M6T2/zCg9f+44f//td///7Hd//++4v//Oqz4/ziq+P81p/f/M6X3/wAAAAAAAAAAAAAAAAAAAAAAAAAAOqz4/zep9//M6///v+X//7vj//+44f//OKn1/z6x+f88rvn/Oaz4/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD6x+f8qmfP/yOv//8bq///C5///z+z//0O3+v9Ctfr/QLP5/z2x+f8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA0u///8jr///I6///yOv//zmq9f9Dt/r/Q7f6/0O3+v8AAAAAAAAAAAAAAAAAAAAA8A8AAOAHAADgBwAAwAMAAMADAACGAQAABgAAAA8AAAAPAAAABgAAAIYBAADAAwAAwAMAAOAHAADgBwAA8A8AAA==" />\n</head>\n<body>\n<div id="swagger-ui"></div>\n<script src="https://unpkg.com/swagger-ui-dist@4.5.0/swagger-ui-bundle.js" crossorigin><\/script>\n<script src="https://unpkg.com/swagger-ui-dist@4.5.0/swagger-ui-standalone-preset.js" crossorigin><\/script>\n<script>\n    window.onload = () => {\n        window.ui = SwaggerUIBundle({\n            url: '${A=A.replace(/\/+(\/|$)/g,"$1")}',\n            dom_id: '#swagger-ui',\n            deepLinking: true,\n            presets: [\n                SwaggerUIBundle.presets.apis\n            ]\n        });\n    };\n<\/script>\n</body>\n</html>`}function s(A){return`<!DOCTYPE html>\n    <html>\n    <head>\n    <title>ReDocUI</title>\n    \x3c!-- needed for adaptive design --\x3e\n    <meta charset="utf-8"/>\n    <meta name="viewport" content="width=device-width, initial-scale=1">\n\n    <link href="https://fonts.googleapis.com/css?family=Montserrat:300,400,700|Roboto:300,400,700" rel="stylesheet">\n    <link rel="shortcut icon" href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAlMb//2ux//9or///ZKz//wlv5f8JcOf/CnXv/why7/8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB2vi/wZo3/9ytf//b7P//2uw//+BvP//DHbp/w568P8Md+//CnXv/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAApv4/8HbOH/lMf//3W3//9ytf//brL//w946v8SfvH/EHzw/w558P8AAAAAAAAAAAAAAAAAAAAAAAAAABF56f8Ndef/C3Dj/whs4f98u///eLn//3W3//+Evv//FoPx/xSA8f8SfvD/EHvw/wAAAAAAAAAAAAAAAA1EeF0WgOz/EXrp/w515v8LceT/lsn//3+9//97u///eLj//xaB7f8YhfL/FoLx/xSA8f8JP/deAAAAAAAAAAAgjfH/HIjw/xeB7P8Te+n/AAAAAAAAAACGwf//gr///369//+Iwf//HIny/xqH8v8YhfL/FYLx/wAAAAAnlfPlJJLy/yGO8v8cifD/GILt/wAAAAAAAAAAmMz//4nD//+Fwf//gb///xyJ8P8ejPP/HIny/xmH8v8XhPLnK5r0/yiW8/8lk/P/IpDy/wAAAAAAAAAAAAAAAAAAAACPx///jMX//4jD//+MxP//IpD0/yCO8/8di/P/G4ny/y6e9f8sm/T/KZj0/yaV8/8AAAAAAAAAAAAAAAAAAAAAlsz//5LJ//+Px///lMn//yaV9P8kkvT/IZD0/x+O8/8yo/blMKD1/y2d9f8qmfT/KJbz/wAAAAAAAAAAqdb//53Q//+Zzv//lsv//yiY8/8qmvX/KJf1/yWV9P8jkvTQAAAAADSl9v8xofX/Lp71/yyb9P8AAAAAAAAAAKfW//+k1P//oNL//6rW//8wofb/Lp72/yuc9f8pmfX/AAAAAAAAAAAcVHtcNab2/zKj9v8voPX/LZz0/7vh//+u2///qtj//6fW//8wofT/NKX3/zKj9/8voPb/F8/6XgAAAAAAAAAAAAAAADmr9/82qPf/M6T2/zCg9f+44f//td///7Hd//++4v//Oqz4/ziq+P81p/f/M6X3/wAAAAAAAAAAAAAAAAAAAAAAAAAAOqz4/zep9//M6///v+X//7vj//+44f//OKn1/z6x+f88rvn/Oaz4/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD6x+f8qmfP/yOv//8bq///C5///z+z//0O3+v9Ctfr/QLP5/z2x+f8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA0u///8jr///I6///yOv//zmq9f9Dt/r/Q7f6/0O3+v8AAAAAAAAAAAAAAAAAAAAA8A8AAOAHAADgBwAAwAMAAMADAACGAQAABgAAAA8AAAAPAAAABgAAAIYBAADAAwAAwAMAAOAHAADgBwAA8A8AAA==" />\n\n    \x3c!--\n    ReDoc doesn't change outer page styles\n    --\x3e\n    <style>\n      body {\n        margin: 0;\n        padding: 0;\n      }\n    </style>\n    </head>\n    <body>\n    <redoc spec-url="${A=A.replace(/\/+(\/|$)/g,"$1")}"></redoc>\n    <script src="https://unpkg.com/redoc@2.0.0-rc.58/bundles/redoc.standalone.js"> <\/script>\n    </body>\n    </html>`}class n{static isParameter=!0;isParameter=!0;type="string";params;generated;constructor(A){this.params=A||{},this.generated=!0,void 0===this.params.required&&(this.params.required=!0)}getValue(){const A={type:this.type,description:this.params.description,example:this.params.example,default:this.params.default};return this.params.deprecated&&(A.deprecated=this.params.deprecated),A}validate(A){return A}}class i extends n{isArr=!0;innerType;constructor(A,e){super(e),this.innerType=A}validate(A){return A=super.validate(A),!1!==this.params.required||null!==A&&""!==A?A=Array.isArray(A)?A.map((A=>this.innerType.validate(A))):[this.innerType.validate(A)]:null}getValue(){return{type:"array",items:this.innerType.getValue(),description:this.params.description,example:this.params.example,default:this.params.default}}}class o extends n{isObj=!0;fields;constructor(A,e){super(e),this.fields=A}validate(A){A=super.validate(A);for(const[e,r]of Object.entries(this.fields))try{if(void 0===A[e]||null===A[e]){if(r.params.required)throw new t("is required")}else A[e]=r.validate(A[e])}catch(A){throw A.key=(A.key||"")+`.${e}`,A}return A}getValue(){const A={type:"object",properties:{}},e=[];for(const[t,r]of Object.entries(this.fields))!0===r.params?.required&&e.push(t),r.getValue?A.properties[t]=r.getValue():A.properties[t]=r;return e.length>0&&(A.required=e),this.params.xml&&(A.xml=this.params.xml),A}}class d extends n{type="number";validate(A){if(A=super.validate(A),A=Number.parseFloat(A),isNaN(A))throw new t("is not a valid number");return A}}class p extends d{type="integer";validate(A){if(A=super.validate(A),A=Number.parseInt(A),isNaN(A))throw new t("is not a valid integer");return A}}class c extends n{type="string";constructor(A){super(A)}validate(A){if("string"!=typeof(A=super.validate(A))&&(A=A.toString()),this.params.format)if("date-time"===this.params.format){if(A=new Date(A),isNaN(A.getDay()))throw new t("is not a valid date time")}else if("date"===this.params.format){if(!A.match(/^[0-9]{4}-[0-9]{2}-[0-9]{2}$/))throw new t("is not a valid date");if(A=new Date(A),isNaN(A.getDay()))throw new t("is not a valid date")}return A}getValue(){return{...super.getValue(),format:this.params.format}}}class u extends c{type="string";constructor(A){super({example:"2022-09-15T00:00:00Z",...A,format:"date-time"})}}class l extends c{type="string";constructor(A){super(A)}validate(A){if(!(A=super.validate(A)).match(this.params.pattern)){if(this.params.patternError)throw new t(`is not a valid ${this.params.patternError}`);throw new t(`does not match the pattern ${this.params.format}`)}return A}getValue(){return{...super.getValue(),pattern:this.params.pattern}}}class f extends l{type="string";constructor(A){super({pattern:"^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$",patternError:"email",...A,format:"email"})}}class h extends l{type="string";constructor(A){super({pattern:"^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$",patternError:"uuid",...A,format:"uuid"})}}class m extends l{type="string";constructor(A){super({pattern:"^(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\\-]*[a-zA-Z0-9])\\.)*([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9\\-]*[A-Za-z0-9])$",patternError:"hostname",...A,format:"hostname"})}}class y extends l{type="string";constructor(A){super({pattern:"^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$",patternError:"ipv4",...A,format:"ipv4"})}}class w extends l{type="string";constructor(A){super({pattern:"^(?:(?:[a-fA-F\\d]{1,4}:){7}(?:[a-fA-F\\d]{1,4}|:)|(?:[a-fA-F\\d]{1,4}:){6}(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|:[a-fA-F\\d]{1,4}|:)|(?:[a-fA-F\\d]{1,4}:){5}(?::(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-fA-F\\d]{1,4}){1,2}|:)|(?:[a-fA-F\\d]{1,4}:){4}(?:(?::[a-fA-F\\d]{1,4}){0,1}:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-fA-F\\d]{1,4}){1,3}|:)|(?:[a-fA-F\\d]{1,4}:){3}(?:(?::[a-fA-F\\d]{1,4}){0,2}:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-fA-F\\d]{1,4}){1,4}|:)|(?:[a-fA-F\\d]{1,4}:){2}(?:(?::[a-fA-F\\d]{1,4}){0,3}:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-fA-F\\d]{1,4}){1,5}|:)|(?:[a-fA-F\\d]{1,4}:){1}(?:(?::[a-fA-F\\d]{1,4}){0,4}:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-fA-F\\d]{1,4}){1,6}|:)|(?::(?:(?::[a-fA-F\\d]{1,4}){0,5}:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-fA-F\\d]{1,4}){1,7}|:)))(?:%[0-9a-zA-Z]{1,})?$",patternError:"ipv6",...A,format:"ipv6"})}}class g extends c{type="string";constructor(A){super({example:"2022-09-15",...A,format:"date"})}}class v extends c{type="boolean";validValues=["true","false"];validate(A){if(A=(A=super.validate(A)).toLowerCase(),!this.validValues.includes(A))throw new t("is not a valid boolean, allowed values are true or false");return A="true"===A}}class x extends c{isEnum=!0;values;keys;constructor(A){super(A);let{values:e}=A;Array.isArray(e)&&(e=Object.fromEntries(e.map((A=>[A,A])))),this.keys=Object.keys(e),this.values=e}validate(A){if(A=super.validate(A),!1!==this.params.enumCaseSensitive)A=this.params.values[A];else{const e=this.keys.find((e=>e.toLowerCase()===A.toLowerCase()));A=this.params.values[e]}if(void 0===A){if(!0===this.params.required)throw new t("is not one of available options");return null}return A}getValue(){return{...super.getValue(),enum:this.keys}}}class P{location;rawType;type;params;constructor(A,e,t){this.location=A,this.rawType=e,void 0===t.required&&(t.required=!0),this.params=t,this.type=this.getType(e,t)}getType(A,e){if(!0===A.generated)return A;if(!0===A.isParameter)return new A({...e});if(A===String)return new c({...e});if("string"==typeof A)return new c({example:A});if(A===Number)return new d({...e});if("number"==typeof A)return new d({example:A});if(A===Boolean)return new v({...e});if("boolean"==typeof A)return new v({example:A});if(A===Date)return new u;if(Array.isArray(A)){if(0===A.length)throw new Error("Arr must have a type");return new i(this.getType(A[0],e),{...e})}if("object"==typeof A){const t={};for(const[e,r]of Object.entries(A))t[e]=this.getType(r,{});return new o(t,e)}throw new Error(`${A} not implemented`)}getValue(){const A=k(this.type.getValue());return{description:this.params.description,required:this.params.required,schema:A,name:this.params.name,in:this.location}}validate(A){if(null==A){if(void 0===this.params.default||null===this.params.default){if(this.params.required)throw new t("is required");return null}A=this.params.default}return A=this.type.validate(A)}}class b extends P{paramsBody;constructor(A,e){super(null,A,{}),this.paramsBody=e}getValue(){const A=k(this.type.getValue()),e={description:this.paramsBody?.description,content:{}};return e.content[this.paramsBody?.contentType||"application/json"]={schema:A},e}}class j extends P{constructor(A,e){super(null,A,e)}getValue(){const A=super.getValue(),e=this.params?.contentType?this.params?.contentType:"application/json",t={description:this.params.description||"Successful Response",content:{}};return t.content[e]={schema:A.schema},t}}function O(A,e={}){return new P("query",A,e)}function z(A,e={}){return new P("path",A,e)}function q(A,e={}){return new P("header",A,e)}function F(A,e={}){return new P("cookie",A,e)}function T(A,e,t,r){if("query"===r)return e[t];if("path"===r)return A.params[t];if("header"===r)return A.headers.get(t);if("cookie"===r)throw new Error("Cookie parameters not implemented yet")}function D(A){const e=decodeURIComponent(A.url).split("?");if(1===e.length)return{};const t=e.slice(1).join("?"),r={};for(const A of t.split("&")){const e=A.split("="),t=e[0],a=e[1];void 0===r[t]?r[t]=a:Array.isArray(r[t])?r[t].push(a):r[t]=[r[t],a]}return r}function E(A){return A.params.required=!0,A}function k(A){for(const[e,t]of Object.entries(A))"object"!=typeof t||Array.isArray(t)||(A[e]=k(t)),void 0===t&&delete A[e];return A}function I(A){const e=[],t=Array.isArray(A);for(const[r,a]of Object.entries(A||{})){if(t&&!a.params.name)throw new Error("Parameter must have a defined name when using as Array");const A=a.params.name?a.params.name:r;e.push({...a.getValue(),name:A})}return e}var B,L,S;function V(e){const t={},r=A({base:e?.base,routes:e?.routes}),n={openapi:"3.0.2",info:{title:e?.schema?.info?.title||"OpenAPI",version:e?.schema?.info?.version||"1.0"},raiseUnknownParameters:e?.raiseUnknownParameters,...e?.schema},i={...n,paths:t};delete i.raiseUnknownParameters;const o=new Proxy(r,{get:(A,a,s)=>"original"===a?r:"schema"===a?i:(r,...i)=>{if("handle"!==a)if(1===i.length&&void 0!==i[0].schema?.paths){const A=i[0];for(const[e,r]of Object.entries(A.schema.paths))t[e]=r}else if("all"!==a){const A=(e?.base||"")+r.replace(/\/+(\/|$)/g,"$1").replace(/:(\w+)/g,"{$1}");let s,n;for(const A of i)if(A.name&&(n=`${a.toString()}_${A.name}`),A.getParsedSchema){s=A.getParsedSchema();break}if(void 0===t[A]&&(t[A]={}),void 0===n&&(n=`${a.toString()}_${r.replaceAll("/","_")}`),void 0===s){const A=r.match(/:(\w+)/g);s={operationId:n,parameters:A?I(A.map((A=>z(String,{name:A.replace(":","")})))):[],responses:{200:{description:"Successfully Response"}}}}else if(!s.operationId){if(!1===e?.generateOperationIds&&!s.operationId)throw new Error(`Route ${r} don't have operationId set!`);s.operationId=n}t[A][a.toString()]=s}return Reflect.get(A,a,s)(r,...i.map((A=>void 0!==A.schema?.paths?A.handle:A.isRoute?(...e)=>new A({raiseUnknownParameters:n.raiseUnknownParameters}).execute(...e):A)))}});return void 0!==n&&(null!==e?.docs_url&&null!==e?.openapi_url&&r.get(e?.docs_url||"/docs",(()=>new Response(a((e?.base||"")+(e?.openapi_url||"/openapi.json")),{headers:{"content-type":"text/html; charset=UTF-8"},status:200}))),null!==e?.redoc_url&&null!==e?.openapi_url&&r.get(e?.redoc_url||"/redocs",(()=>new Response(s((e?.base||"")+(e?.openapi_url||"/openapi.json")),{headers:{"content-type":"text/html; charset=UTF-8"},status:200}))),null!==e?.openapi_url&&r.get(e?.openapi_url||"/openapi.json",(()=>new Response(JSON.stringify(i),{headers:{"content-type":"application/json;charset=UTF-8"},status:200}))),e?.aiPlugin&&null!==e?.openapi_url&&r.get("/.well-known/ai-plugin.json",(A=>{const t={type:S.OPENAPI,has_user_authentication:!1,url:e?.openapi_url||"/openapi.json",...e?.aiPlugin?.api};return t.url.startsWith("http")||(t.url=`https://${A.headers.get("host")}${t.url}`),new Response(JSON.stringify({schema_version:B.V1,auth:{type:L.NONE},...e?.aiPlugin,api:t}),{headers:{"content-type":"application/json;charset=UTF-8"},status:200})}))),o}!function(A){A.V1="v1"}(B||(B={})),function(A){A.NONE="none",A.OAUTH="oauth",A.SERVICE_HTTP="service_http",A.USER_HTTP="user_http"}(L||(L={})),function(A){A.OPENAPI="openapi"}(S||(S={}));class H{static isRoute=!0;static schema;params;constructor(A){this.params=A}static getSchema(){return this.schema}get schema(){return this.__proto__.constructor.schema}getSchema(){return this.__proto__.constructor.getSchema()}static getParsedSchema(){const A=this.getSchema();let e=null;A.requestBody&&(e=new b(A.requestBody,{contentType:A.requestBody.contentType}).getValue());const t={};if(A.responses)for(const[e,r]of Object.entries(A.responses)){const A=new j(r.schema,r);t[e]=A.getValue()}return{...A,parameters:A.parameters?I(A.parameters):[],responses:t,...e?{requestBody:e}:{}}}jsonResp(A){return new Response(JSON.stringify(A.data),{headers:{"content-type":"application/json;charset=UTF-8"},status:A.status||200})}handleValidationError(A){return this.jsonResp({data:{errors:A,success:!1,result:{}},status:400})}async execute(...A){const{data:e,errors:t}=await this.validateRequest(A[0]);if(Object.keys(t).length>0)return this.handleValidationError(t);A.push(e);const r=await this.handle(...A);return r instanceof Response||"object"!=typeof r?r:this.jsonResp({data:r})}async validateRequest(A){const e=this.getSchema().parameters||{},t=this.getSchema().requestBody,r=D(A),a={},s={};if(this.params?.raiseUnknownParameters)for(const A of Object.keys(r))if(Array.isArray(e)){let t=!1;for(const r of e)if(r.params.name===A){t=!0;break}t||(s[A]="is an unknown parameter")}else void 0===e[A]&&(s[A]="is an unknown parameter");for(const[t,n]of Object.entries(e)){const e=n,i=e.params.name?e.params.name:t,o=T(A,r,i,e.location);try{a[i]=e.validate(o)}catch(A){s[i]=A.message}}if("get"!==A.method.toLowerCase()&&t&&(void 0===t.contentType||"application/json"===t.contentType)){let e,r=!1;try{e=await A.json(),r=!0}catch(A){s.body=A.message}if(r)try{a.body=new b(t).validate(e)}catch(A){s["body"+A.key]=A.message}}return{data:a,errors:s}}handle(...A){throw new Error("Method not implemented.")}}export{S as APIType,e as ApiException,i as Arr,L as AuthType,n as BaseParameter,b as Body,v as Bool,F as Cookie,g as DateOnly,u as DateTime,f as Email,x as Enumeration,q as Header,m as Hostname,r as InputValidationException,p as Int,y as Ipv4,w as Ipv6,d as Num,o as Obj,H as OpenAPIRoute,V as OpenAPIRouter,P as Parameter,z as Path,O as Query,l as Regex,E as Required,j as Resp,B as SchemaVersion,c as Str,h as Uuid,t as ValidationError,T as extractParameter,D as extractQueryParameters,I as getFormatedParameters,s as getReDocUI,a as getSwaggerUI,k as removeUndefinedFields};
