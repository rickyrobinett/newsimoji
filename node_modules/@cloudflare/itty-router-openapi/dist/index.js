"use strict";var e,A=require("itty-router");class t extends Error{key;constructor(e){super(e),this.message=e}}class r extends t{constructor(e){super(e)}}function s(e){return`<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="utf-8"/>\n    <meta name="viewport" content="width=device-width, initial-scale=1"/>\n    <meta name="description" content="SwaggerIU"/>\n    <title>SwaggerUI</title>\n    <link rel="stylesheet" href="https://unpkg.com/swagger-ui-dist@4.5.0/swagger-ui.css"/>\n    <link rel="shortcut icon" href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAlMb//2ux//9or///ZKz//wlv5f8JcOf/CnXv/why7/8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB2vi/wZo3/9ytf//b7P//2uw//+BvP//DHbp/w568P8Md+//CnXv/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAApv4/8HbOH/lMf//3W3//9ytf//brL//w946v8SfvH/EHzw/w558P8AAAAAAAAAAAAAAAAAAAAAAAAAABF56f8Ndef/C3Dj/whs4f98u///eLn//3W3//+Evv//FoPx/xSA8f8SfvD/EHvw/wAAAAAAAAAAAAAAAA1EeF0WgOz/EXrp/w515v8LceT/lsn//3+9//97u///eLj//xaB7f8YhfL/FoLx/xSA8f8JP/deAAAAAAAAAAAgjfH/HIjw/xeB7P8Te+n/AAAAAAAAAACGwf//gr///369//+Iwf//HIny/xqH8v8YhfL/FYLx/wAAAAAnlfPlJJLy/yGO8v8cifD/GILt/wAAAAAAAAAAmMz//4nD//+Fwf//gb///xyJ8P8ejPP/HIny/xmH8v8XhPLnK5r0/yiW8/8lk/P/IpDy/wAAAAAAAAAAAAAAAAAAAACPx///jMX//4jD//+MxP//IpD0/yCO8/8di/P/G4ny/y6e9f8sm/T/KZj0/yaV8/8AAAAAAAAAAAAAAAAAAAAAlsz//5LJ//+Px///lMn//yaV9P8kkvT/IZD0/x+O8/8yo/blMKD1/y2d9f8qmfT/KJbz/wAAAAAAAAAAqdb//53Q//+Zzv//lsv//yiY8/8qmvX/KJf1/yWV9P8jkvTQAAAAADSl9v8xofX/Lp71/yyb9P8AAAAAAAAAAKfW//+k1P//oNL//6rW//8wofb/Lp72/yuc9f8pmfX/AAAAAAAAAAAcVHtcNab2/zKj9v8voPX/LZz0/7vh//+u2///qtj//6fW//8wofT/NKX3/zKj9/8voPb/F8/6XgAAAAAAAAAAAAAAADmr9/82qPf/M6T2/zCg9f+44f//td///7Hd//++4v//Oqz4/ziq+P81p/f/M6X3/wAAAAAAAAAAAAAAAAAAAAAAAAAAOqz4/zep9//M6///v+X//7vj//+44f//OKn1/z6x+f88rvn/Oaz4/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD6x+f8qmfP/yOv//8bq///C5///z+z//0O3+v9Ctfr/QLP5/z2x+f8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA0u///8jr///I6///yOv//zmq9f9Dt/r/Q7f6/0O3+v8AAAAAAAAAAAAAAAAAAAAA8A8AAOAHAADgBwAAwAMAAMADAACGAQAABgAAAA8AAAAPAAAABgAAAIYBAADAAwAAwAMAAOAHAADgBwAA8A8AAA==" />\n</head>\n<body>\n<div id="swagger-ui"></div>\n<script src="https://unpkg.com/swagger-ui-dist@4.5.0/swagger-ui-bundle.js" crossorigin><\/script>\n<script src="https://unpkg.com/swagger-ui-dist@4.5.0/swagger-ui-standalone-preset.js" crossorigin><\/script>\n<script>\n    window.onload = () => {\n        window.ui = SwaggerUIBundle({\n            url: '${e=e.replace(/\/+(\/|$)/g,"$1")}',\n            dom_id: '#swagger-ui',\n            deepLinking: true,\n            presets: [\n                SwaggerUIBundle.presets.apis\n            ]\n        });\n    };\n<\/script>\n</body>\n</html>`}function a(e){return`<!DOCTYPE html>\n    <html>\n    <head>\n    <title>ReDocUI</title>\n    \x3c!-- needed for adaptive design --\x3e\n    <meta charset="utf-8"/>\n    <meta name="viewport" content="width=device-width, initial-scale=1">\n\n    <link href="https://fonts.googleapis.com/css?family=Montserrat:300,400,700|Roboto:300,400,700" rel="stylesheet">\n    <link rel="shortcut icon" href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAlMb//2ux//9or///ZKz//wlv5f8JcOf/CnXv/why7/8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB2vi/wZo3/9ytf//b7P//2uw//+BvP//DHbp/w568P8Md+//CnXv/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAApv4/8HbOH/lMf//3W3//9ytf//brL//w946v8SfvH/EHzw/w558P8AAAAAAAAAAAAAAAAAAAAAAAAAABF56f8Ndef/C3Dj/whs4f98u///eLn//3W3//+Evv//FoPx/xSA8f8SfvD/EHvw/wAAAAAAAAAAAAAAAA1EeF0WgOz/EXrp/w515v8LceT/lsn//3+9//97u///eLj//xaB7f8YhfL/FoLx/xSA8f8JP/deAAAAAAAAAAAgjfH/HIjw/xeB7P8Te+n/AAAAAAAAAACGwf//gr///369//+Iwf//HIny/xqH8v8YhfL/FYLx/wAAAAAnlfPlJJLy/yGO8v8cifD/GILt/wAAAAAAAAAAmMz//4nD//+Fwf//gb///xyJ8P8ejPP/HIny/xmH8v8XhPLnK5r0/yiW8/8lk/P/IpDy/wAAAAAAAAAAAAAAAAAAAACPx///jMX//4jD//+MxP//IpD0/yCO8/8di/P/G4ny/y6e9f8sm/T/KZj0/yaV8/8AAAAAAAAAAAAAAAAAAAAAlsz//5LJ//+Px///lMn//yaV9P8kkvT/IZD0/x+O8/8yo/blMKD1/y2d9f8qmfT/KJbz/wAAAAAAAAAAqdb//53Q//+Zzv//lsv//yiY8/8qmvX/KJf1/yWV9P8jkvTQAAAAADSl9v8xofX/Lp71/yyb9P8AAAAAAAAAAKfW//+k1P//oNL//6rW//8wofb/Lp72/yuc9f8pmfX/AAAAAAAAAAAcVHtcNab2/zKj9v8voPX/LZz0/7vh//+u2///qtj//6fW//8wofT/NKX3/zKj9/8voPb/F8/6XgAAAAAAAAAAAAAAADmr9/82qPf/M6T2/zCg9f+44f//td///7Hd//++4v//Oqz4/ziq+P81p/f/M6X3/wAAAAAAAAAAAAAAAAAAAAAAAAAAOqz4/zep9//M6///v+X//7vj//+44f//OKn1/z6x+f88rvn/Oaz4/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD6x+f8qmfP/yOv//8bq///C5///z+z//0O3+v9Ctfr/QLP5/z2x+f8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA0u///8jr///I6///yOv//zmq9f9Dt/r/Q7f6/0O3+v8AAAAAAAAAAAAAAAAAAAAA8A8AAOAHAADgBwAAwAMAAMADAACGAQAABgAAAA8AAAAPAAAABgAAAIYBAADAAwAAwAMAAOAHAADgBwAA8A8AAA==" />\n\n    \x3c!--\n    ReDoc doesn't change outer page styles\n    --\x3e\n    <style>\n      body {\n        margin: 0;\n        padding: 0;\n      }\n    </style>\n    </head>\n    <body>\n    <redoc spec-url="${e=e.replace(/\/+(\/|$)/g,"$1")}"></redoc>\n    <script src="https://unpkg.com/redoc@2.0.0-rc.58/bundles/redoc.standalone.js"> <\/script>\n    </body>\n    </html>`}class n{static isParameter=!0;isParameter=!0;type="string";params;generated;constructor(e){this.params=e||{},this.generated=!0,void 0===this.params.required&&(this.params.required=!0)}getValue(){const e={type:this.type,description:this.params.description,example:this.params.example,default:this.params.default};return this.params.deprecated&&(e.deprecated=this.params.deprecated),e}validate(e){return e}}class o extends n{isArr=!0;innerType;constructor(e,A){super(A),this.innerType=e}validate(e){return e=super.validate(e),!1!==this.params.required||null!==e&&""!==e?e=Array.isArray(e)?e.map((e=>this.innerType.validate(e))):[this.innerType.validate(e)]:null}getValue(){return{type:"array",items:this.innerType.getValue(),description:this.params.description,example:this.params.example,default:this.params.default}}}class i extends n{isObj=!0;fields;constructor(e,A){super(A),this.fields=e}validate(e){e=super.validate(e);for(const[A,t]of Object.entries(this.fields))try{if(void 0===e[A]||null===e[A]){if(t.params.required)throw new r("is required")}else e[A]=t.validate(e[A])}catch(e){throw e.key=(e.key||"")+`.${A}`,e}return e}getValue(){const e={type:"object",properties:{}},A=[];for(const[t,r]of Object.entries(this.fields))!0===r.params?.required&&A.push(t),r.getValue?e.properties[t]=r.getValue():e.properties[t]=r;return A.length>0&&(e.required=A),this.params.xml&&(e.xml=this.params.xml),e}}class p extends n{type="number";validate(e){if(e=super.validate(e),e=Number.parseFloat(e),isNaN(e))throw new r("is not a valid number");return e}}class d extends n{type="string";constructor(e){super(e)}validate(e){if("string"!=typeof(e=super.validate(e))&&(e=e.toString()),this.params.format)if("date-time"===this.params.format){if(e=new Date(e),isNaN(e.getDay()))throw new r("is not a valid date time")}else if("date"===this.params.format){if(!e.match(/^[0-9]{4}-[0-9]{2}-[0-9]{2}$/))throw new r("is not a valid date");if(e=new Date(e),isNaN(e.getDay()))throw new r("is not a valid date")}return e}getValue(){return{...super.getValue(),format:this.params.format}}}class u extends d{type="string";constructor(e){super({example:"2022-09-15T00:00:00Z",...e,format:"date-time"})}}class c extends d{type="string";constructor(e){super(e)}validate(e){if(!(e=super.validate(e)).match(this.params.pattern)){if(this.params.patternError)throw new r(`is not a valid ${this.params.patternError}`);throw new r(`does not match the pattern ${this.params.format}`)}return e}getValue(){return{...super.getValue(),pattern:this.params.pattern}}}class l extends d{type="boolean";validValues=["true","false"];validate(e){if(e=(e=super.validate(e)).toLowerCase(),!this.validValues.includes(e))throw new r("is not a valid boolean, allowed values are true or false");return e="true"===e}}class f{location;rawType;type;params;constructor(e,A,t){this.location=e,this.rawType=A,void 0===t.required&&(t.required=!0),this.params=t,this.type=this.getType(A,t)}getType(e,A){if(!0===e.generated)return e;if(!0===e.isParameter)return new e({...A});if(e===String)return new d({...A});if("string"==typeof e)return new d({example:e});if(e===Number)return new p({...A});if("number"==typeof e)return new p({example:e});if(e===Boolean)return new l({...A});if("boolean"==typeof e)return new l({example:e});if(e===Date)return new u;if(Array.isArray(e)){if(0===e.length)throw new Error("Arr must have a type");return new o(this.getType(e[0],A),{...A})}if("object"==typeof e){const t={};for(const[A,r]of Object.entries(e))t[A]=this.getType(r,{});return new i(t,A)}throw new Error(`${e} not implemented`)}getValue(){const e=v(this.type.getValue());return{description:this.params.description,required:this.params.required,schema:e,name:this.params.name,in:this.location}}validate(e){if(null==e){if(void 0===this.params.default||null===this.params.default){if(this.params.required)throw new r("is required");return null}e=this.params.default}return e=this.type.validate(e)}}class m extends f{paramsBody;constructor(e,A){super(null,e,{}),this.paramsBody=A}getValue(){const e=v(this.type.getValue()),A={description:this.paramsBody?.description,content:{}};return A.content[this.paramsBody?.contentType||"application/json"]={schema:e},A}}class h extends f{constructor(e,A){super(null,e,A)}getValue(){const e=super.getValue(),A=this.params?.contentType?this.params?.contentType:"application/json",t={description:this.params.description||"Successful Response",content:{}};return t.content[A]={schema:e.schema},t}}function y(e,A={}){return new f("path",e,A)}function w(e,A,t,r){if("query"===r)return A[t];if("path"===r)return e.params[t];if("header"===r)return e.headers.get(t);if("cookie"===r)throw new Error("Cookie parameters not implemented yet")}function g(e){const A=decodeURIComponent(e.url).split("?");if(1===A.length)return{};const t=A.slice(1).join("?"),r={};for(const e of t.split("&")){const A=e.split("="),t=A[0],s=A[1];void 0===r[t]?r[t]=s:Array.isArray(r[t])?r[t].push(s):r[t]=[r[t],s]}return r}function v(e){for(const[A,t]of Object.entries(e))"object"!=typeof t||Array.isArray(t)||(e[A]=v(t)),void 0===t&&delete e[A];return e}function x(e){const A=[],t=Array.isArray(e);for(const[r,s]of Object.entries(e||{})){if(t&&!s.params.name)throw new Error("Parameter must have a defined name when using as Array");const e=s.params.name?s.params.name:r;A.push({...s.getValue(),name:e})}return A}exports.SchemaVersion=void 0,(exports.SchemaVersion||(exports.SchemaVersion={})).V1="v1",exports.AuthType=void 0,(e=exports.AuthType||(exports.AuthType={})).NONE="none",e.OAUTH="oauth",e.SERVICE_HTTP="service_http",e.USER_HTTP="user_http",exports.APIType=void 0,(exports.APIType||(exports.APIType={})).OPENAPI="openapi";exports.ApiException=t,exports.Arr=o,exports.BaseParameter=n,exports.Body=m,exports.Bool=l,exports.Cookie=function(e,A={}){return new f("cookie",e,A)},exports.DateOnly=class extends d{type="string";constructor(e){super({example:"2022-09-15",...e,format:"date"})}},exports.DateTime=u,exports.Email=class extends c{type="string";constructor(e){super({pattern:"^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$",patternError:"email",...e,format:"email"})}},exports.Enumeration=class extends d{isEnum=!0;values;keys;constructor(e){super(e);let{values:A}=e;Array.isArray(A)&&(A=Object.fromEntries(A.map((e=>[e,e])))),this.keys=Object.keys(A),this.values=A}validate(e){if(e=super.validate(e),!1!==this.params.enumCaseSensitive)e=this.params.values[e];else{const A=this.keys.find((A=>A.toLowerCase()===e.toLowerCase()));e=this.params.values[A]}if(void 0===e){if(!0===this.params.required)throw new r("is not one of available options");return null}return e}getValue(){return{...super.getValue(),enum:this.keys}}},exports.Header=function(e,A={}){return new f("header",e,A)},exports.Hostname=class extends c{type="string";constructor(e){super({pattern:"^(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\\-]*[a-zA-Z0-9])\\.)*([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9\\-]*[A-Za-z0-9])$",patternError:"hostname",...e,format:"hostname"})}},exports.InputValidationException=class extends t{constructor(e){super(e)}},exports.Int=class extends p{type="integer";validate(e){if(e=super.validate(e),e=Number.parseInt(e),isNaN(e))throw new r("is not a valid integer");return e}},exports.Ipv4=class extends c{type="string";constructor(e){super({pattern:"^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$",patternError:"ipv4",...e,format:"ipv4"})}},exports.Ipv6=class extends c{type="string";constructor(e){super({pattern:"^(?:(?:[a-fA-F\\d]{1,4}:){7}(?:[a-fA-F\\d]{1,4}|:)|(?:[a-fA-F\\d]{1,4}:){6}(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|:[a-fA-F\\d]{1,4}|:)|(?:[a-fA-F\\d]{1,4}:){5}(?::(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-fA-F\\d]{1,4}){1,2}|:)|(?:[a-fA-F\\d]{1,4}:){4}(?:(?::[a-fA-F\\d]{1,4}){0,1}:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-fA-F\\d]{1,4}){1,3}|:)|(?:[a-fA-F\\d]{1,4}:){3}(?:(?::[a-fA-F\\d]{1,4}){0,2}:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-fA-F\\d]{1,4}){1,4}|:)|(?:[a-fA-F\\d]{1,4}:){2}(?:(?::[a-fA-F\\d]{1,4}){0,3}:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-fA-F\\d]{1,4}){1,5}|:)|(?:[a-fA-F\\d]{1,4}:){1}(?:(?::[a-fA-F\\d]{1,4}){0,4}:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-fA-F\\d]{1,4}){1,6}|:)|(?::(?:(?::[a-fA-F\\d]{1,4}){0,5}:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?::[a-fA-F\\d]{1,4}){1,7}|:)))(?:%[0-9a-zA-Z]{1,})?$",patternError:"ipv6",...e,format:"ipv6"})}},exports.Num=p,exports.Obj=i,exports.OpenAPIRoute=class{static isRoute=!0;static schema;params;constructor(e){this.params=e}static getSchema(){return this.schema}get schema(){return this.__proto__.constructor.schema}getSchema(){return this.__proto__.constructor.getSchema()}static getParsedSchema(){const e=this.getSchema();let A=null;e.requestBody&&(A=new m(e.requestBody,{contentType:e.requestBody.contentType}).getValue());const t={};if(e.responses)for(const[A,r]of Object.entries(e.responses)){const e=new h(r.schema,r);t[A]=e.getValue()}return{...e,parameters:e.parameters?x(e.parameters):[],responses:t,...A?{requestBody:A}:{}}}jsonResp(e){return new Response(JSON.stringify(e.data),{headers:{"content-type":"application/json;charset=UTF-8"},status:e.status||200})}handleValidationError(e){return this.jsonResp({data:{errors:e,success:!1,result:{}},status:400})}async execute(...e){const{data:A,errors:t}=await this.validateRequest(e[0]);if(Object.keys(t).length>0)return this.handleValidationError(t);e.push(A);const r=await this.handle(...e);return r instanceof Response||"object"!=typeof r?r:this.jsonResp({data:r})}async validateRequest(e){const A=this.getSchema().parameters||{},t=this.getSchema().requestBody,r=g(e),s={},a={};if(this.params?.raiseUnknownParameters)for(const e of Object.keys(r))if(Array.isArray(A)){let t=!1;for(const r of A)if(r.params.name===e){t=!0;break}t||(a[e]="is an unknown parameter")}else void 0===A[e]&&(a[e]="is an unknown parameter");for(const[t,n]of Object.entries(A)){const A=n,o=A.params.name?A.params.name:t,i=w(e,r,o,A.location);try{s[o]=A.validate(i)}catch(e){a[o]=e.message}}if("get"!==e.method.toLowerCase()&&t&&(void 0===t.contentType||"application/json"===t.contentType)){let A,r=!1;try{A=await e.json(),r=!0}catch(e){a.body=e.message}if(r)try{s.body=new m(t).validate(A)}catch(e){a["body"+e.key]=e.message}}return{data:s,errors:a}}handle(...e){throw new Error("Method not implemented.")}},exports.OpenAPIRouter=function(e){const t={},r=A.Router({base:e?.base,routes:e?.routes}),n={openapi:"3.0.2",info:{title:e?.schema?.info?.title||"OpenAPI",version:e?.schema?.info?.version||"1.0"},raiseUnknownParameters:e?.raiseUnknownParameters,...e?.schema},o={...n,paths:t};delete o.raiseUnknownParameters;const i=new Proxy(r,{get:(A,s,a)=>"original"===s?r:"schema"===s?o:(r,...o)=>{if("handle"!==s)if(1===o.length&&void 0!==o[0].schema?.paths){const e=o[0];for(const[A,r]of Object.entries(e.schema.paths))t[A]=r}else if("all"!==s){const A=(e?.base||"")+r.replace(/\/+(\/|$)/g,"$1").replace(/:(\w+)/g,"{$1}");let a,n;for(const e of o)if(e.name&&(n=`${s.toString()}_${e.name}`),e.getParsedSchema){a=e.getParsedSchema();break}if(void 0===t[A]&&(t[A]={}),void 0===n&&(n=`${s.toString()}_${r.replaceAll("/","_")}`),void 0===a){const e=r.match(/:(\w+)/g);a={operationId:n,parameters:e?x(e.map((e=>y(String,{name:e.replace(":","")})))):[],responses:{200:{description:"Successfully Response"}}}}else if(!a.operationId){if(!1===e?.generateOperationIds&&!a.operationId)throw new Error(`Route ${r} don't have operationId set!`);a.operationId=n}t[A][s.toString()]=a}return Reflect.get(A,s,a)(r,...o.map((e=>void 0!==e.schema?.paths?e.handle:e.isRoute?(...A)=>new e({raiseUnknownParameters:n.raiseUnknownParameters}).execute(...A):e)))}});return void 0!==n&&(null!==e?.docs_url&&null!==e?.openapi_url&&r.get(e?.docs_url||"/docs",(()=>new Response(s((e?.base||"")+(e?.openapi_url||"/openapi.json")),{headers:{"content-type":"text/html; charset=UTF-8"},status:200}))),null!==e?.redoc_url&&null!==e?.openapi_url&&r.get(e?.redoc_url||"/redocs",(()=>new Response(a((e?.base||"")+(e?.openapi_url||"/openapi.json")),{headers:{"content-type":"text/html; charset=UTF-8"},status:200}))),null!==e?.openapi_url&&r.get(e?.openapi_url||"/openapi.json",(()=>new Response(JSON.stringify(o),{headers:{"content-type":"application/json;charset=UTF-8"},status:200}))),e?.aiPlugin&&null!==e?.openapi_url&&r.get("/.well-known/ai-plugin.json",(A=>{const t={type:exports.APIType.OPENAPI,has_user_authentication:!1,url:e?.openapi_url||"/openapi.json",...e?.aiPlugin?.api};return t.url.startsWith("http")||(t.url=`https://${A.headers.get("host")}${t.url}`),new Response(JSON.stringify({schema_version:exports.SchemaVersion.V1,auth:{type:exports.AuthType.NONE},...e?.aiPlugin,api:t}),{headers:{"content-type":"application/json;charset=UTF-8"},status:200})}))),i},exports.Parameter=f,exports.Path=y,exports.Query=function(e,A={}){return new f("query",e,A)},exports.Regex=c,exports.Required=function(e){return e.params.required=!0,e},exports.Resp=h,exports.Str=d,exports.Uuid=class extends c{type="string";constructor(e){super({pattern:"^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$",patternError:"uuid",...e,format:"uuid"})}},exports.ValidationError=r,exports.extractParameter=w,exports.extractQueryParameters=g,exports.getFormatedParameters=x,exports.getReDocUI=a,exports.getSwaggerUI=s,exports.removeUndefinedFields=v;
